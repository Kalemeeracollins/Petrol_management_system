module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},59,91119,a=>{"use strict";var b=a.i(87924),c=a.i(12700),d=a.i(50944),e=a.i(72131),f=a.i(99570),g=a.i(38246);function h(){let{user:a,logout:e}=(0,c.useAuth)(),h=(0,d.useRouter)();return(0,b.jsx)("nav",{className:"bg-slate-900 text-white shadow-lg",role:"navigation","aria-label":"Main",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-8",children:(0,b.jsx)(g.default,{href:"/dashboard",className:"font-bold text-lg hover:text-blue-400 transition",children:"Petrol Station"})}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("span",{className:"text-sm text-slate-300",children:["Welcome, ",a?.name]}),(0,b.jsx)(f.Button,{variant:"secondary",size:"sm",onClick:()=>{e(),h.push("/login")},"aria-label":"Logout",children:"Logout"})]})]})})}function i(){let a=(0,d.usePathname)();return(0,b.jsx)("aside",{className:"bg-slate-800 text-white w-64 min-h-screen p-4",role:"navigation","aria-label":"Sidebar",children:(0,b.jsx)("nav",{className:"space-y-2",children:[{href:"/dashboard",label:"Dashboard",icon:"ðŸ“Š"},{href:"/fuel-management",label:"Fuel Management",icon:"â›½"},{href:"/pump-attendant",label:"Pumps & Attendants",icon:"ðŸ‘¥"},{href:"/sales-records",label:"Sales Records",icon:"ðŸ’°"},{href:"/reports",label:"Reports",icon:"ðŸ“ˆ"},{href:"/settings",label:"Settings",icon:"âš™ï¸"}].map(c=>{let d=a===c.href;return(0,b.jsxs)(g.default,{href:c.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition ${d?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-700"}`,"aria-current":d?"page":void 0,children:[(0,b.jsx)("span",{"aria-hidden":"true",children:c.icon}),(0,b.jsx)("span",{children:c.label})]},c.href)})})})}function j({children:a}){let{isAuthenticated:f}=(0,c.useAuth)(),g=(0,d.useRouter)();return((0,e.useEffect)(()=>{f||g.push("/login")},[f,g]),f)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h,{}),(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)(i,{}),(0,b.jsx)("main",{className:"flex-1 bg-slate-50 min-h-screen",children:a})]})]}):null}function k({children:a,className:c=""}){return(0,b.jsx)("div",{className:`bg-white rounded-lg shadow-md p-6 border border-slate-200 ${c}`,children:a})}a.s(["ProtectedLayout",()=>j],59),a.s(["Card",()=>k],91119)},95276,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(12700),e=a.i(59),f=a.i(91119),g=a.i(99570),h=a.i(24348);function i(){let{token:a}=(0,d.useAuth)(),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("all");(0,c.useEffect)(()=>{s()},[a]),(0,c.useEffect)(()=>{t()},[q,i]);let s=async()=>{try{let b=await fetch("http://localhost:5000/api/sales",{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();j(c.data||[])}catch(a){p("Failed to fetch sales data")}finally{n(!1)}},t=()=>{let a=new Date,b=i;if("today"===q)b=i.filter(b=>new Date(b.date).toDateString()===a.toDateString());else if("week"===q){let c=new Date(a.getTime()-6048e5);b=i.filter(a=>new Date(a.date)>=c)}else if("month"===q){let c=new Date(a.getTime()-2592e6);b=i.filter(a=>new Date(a.date)>=c)}l(b)},u=k.reduce((a,b)=>a+b.amount,0);return(0,b.jsx)(e.ProtectedLayout,{children:(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-8",children:"Sales Records"}),o&&(0,b.jsx)(h.Alert,{variant:"destructive",className:"mb-6",children:o}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Total Revenue"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:["$",u.toFixed(2)]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Total Transactions"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:k.length})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Average Transaction"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:["$",(u/k.length||0).toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[["all","today","week","month"].map(a=>(0,b.jsx)(g.Button,{variant:q===a?"primary":"secondary",onClick:()=>r(a),"aria-pressed":q===a,"aria-label":`Filter by ${a}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a)),(0,b.jsx)(g.Button,{variant:"secondary",onClick:()=>{let a=new Blob([[["Pump","Fuel Type","Quantity (L)","Amount ($)","Date"],...k.map(a=>[a.pumpNumber,a.fuelType,a.quantity,a.amount,a.date])].map(a=>a.join(",")).join("\n")],{type:"text/csv"}),b=window.URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download="sales-records.csv",c.click()},"aria-label":"Export data",children:"Export CSV"})]}),m?(0,b.jsx)("p",{children:"Loading..."}):(0,b.jsx)(f.Card,{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",role:"table",children:[(0,b.jsx)("thead",{className:"border-b border-slate-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-slate-900",children:"Pump"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-slate-900",children:"Fuel Type"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-slate-900",children:"Quantity (L)"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-slate-900",children:"Amount"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-slate-900",children:"Date"})]})}),(0,b.jsx)("tbody",{children:k.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[(0,b.jsx)("td",{className:"py-3 px-4",children:a.pumpNumber}),(0,b.jsx)("td",{className:"py-3 px-4",children:a.fuelType}),(0,b.jsx)("td",{className:"py-3 px-4",children:a.quantity}),(0,b.jsxs)("td",{className:"py-3 px-4 font-semibold",children:["$",a.amount.toFixed(2)]}),(0,b.jsx)("td",{className:"py-3 px-4",children:new Date(a.date).toLocaleDateString()})]},a.id))})]})})})]})})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8f10ad3a._.js.map
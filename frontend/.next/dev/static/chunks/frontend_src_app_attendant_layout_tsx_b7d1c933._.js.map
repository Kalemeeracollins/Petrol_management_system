{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/petrol_station/frontend/src/app/attendant/layout.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useAuth } from \"@/context/auth-context\"\r\nimport { useRouter, usePathname } from \"next/navigation\"\r\nimport { useState, useEffect } from \"react\"\r\nimport {\r\n  MdDashboard,\r\n  MdLocalGasStation,\r\n  MdWork,\r\n  MdPayments,\r\n  MdNotifications,\r\n  MdPerson,\r\n  MdMenu,\r\n  MdClose,\r\n  MdLogout,\r\n  MdDarkMode,\r\n  MdLightMode,\r\n} from \"react-icons/md\"\r\nimport Link from \"next/link\"\r\n\r\nexport default function AttendantLayout({ children }: { children: React.ReactNode }) {\r\n  const { user, isAuthenticated, logout } = useAuth()\r\n  const router = useRouter()\r\n  const pathname = usePathname()\r\n\r\n  const [sidebarOpen, setSidebarOpen] = useState(true)\r\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\")\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated || user?.role !== \"ATTENDANT\") {\r\n      router.push(\"/login\")\r\n    }\r\n  }, [isAuthenticated, user, router])\r\n\r\n  useEffect(() => {\r\n    const storedTheme = localStorage.getItem(\"theme\") as \"light\" | \"dark\"\r\n    if (storedTheme) {\r\n      setTheme(storedTheme)\r\n      document.documentElement.classList.toggle(\"dark\", storedTheme === \"dark\")\r\n    }\r\n  }, [])\r\n\r\n  const toggleTheme = () => {\r\n    const newTheme = theme === \"light\" ? \"dark\" : \"light\"\r\n    setTheme(newTheme)\r\n    localStorage.setItem(\"theme\", newTheme)\r\n    document.documentElement.classList.toggle(\"dark\", newTheme === \"dark\")\r\n  }\r\n\r\n  const toggleSidebar = () => setSidebarOpen((prev) => !prev)\r\n\r\n  return (\r\n    <div\r\n      className={`flex h-screen overflow-hidden transition-colors duration-300 ${\r\n        theme === \"dark\" ? \"bg-gray-900 text-gray-100\" : \"bg-gray-100 text-gray-900\"\r\n      }`}\r\n    >\r\n      {/* Sidebar */}\r\n      <aside\r\n        className={`fixed top-0 left-0 h-full flex flex-col p-4 shadow-xl transition-all duration-500 ease-in-out transform z-40\r\n          ${sidebarOpen ? \"w-64\" : \"w-20\"}\r\n          ${theme === \"dark\" ? \"bg-[#102525]\" : \"bg-[#1a3a3a] text-white\"}\r\n        `}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h1\r\n            className={`text-2xl font-bold transition-all duration-300 ${\r\n              sidebarOpen ? \"opacity-100\" : \"opacity-0 hidden\"\r\n            }`}\r\n          >\r\n            â›½ Attendant\r\n          </h1>\r\n          <button\r\n            onClick={toggleSidebar}\r\n            className=\"text-2xl hover:text-yellow-400\"\r\n            aria-label=\"Toggle sidebar\"\r\n          >\r\n            {sidebarOpen ? <MdClose /> : <MdMenu />}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Nav Links */}\r\n        <nav className=\"flex flex-col space-y-2\">\r\n          <NavLink href=\"/attendant/dashboard\" icon={<MdDashboard />} label=\"Dashboard\" active={pathname === \"/attendant/dashboard\"} sidebarOpen={sidebarOpen} />\r\n          <NavLink href=\"/attendant/sales\" icon={<MdLocalGasStation />} label=\"Fuel Sales\" active={pathname === \"/attendant/sales\"} sidebarOpen={sidebarOpen} />\r\n          <NavLink href=\"/attendant/shifts\" icon={<MdWork />} label=\"Shifts\" active={pathname === \"/attendant/shifts\"} sidebarOpen={sidebarOpen} />\r\n          <NavLink href=\"/attendant/payments\" icon={<MdPayments />} label=\"Payments\" active={pathname === \"/attendant/payments\"} sidebarOpen={sidebarOpen} />\r\n          <NavLink href=\"/attendant/alerts\" icon={<MdNotifications />} label=\"Alerts\" active={pathname === \"/attendant/alerts\"} sidebarOpen={sidebarOpen} />\r\n          <NavLink href=\"/attendant/profile\" icon={<MdPerson />} label=\"Profile\" active={pathname === \"/attendant/profile\"} sidebarOpen={sidebarOpen} />\r\n        </nav>\r\n\r\n        {/* Logout */}\r\n        <button\r\n          onClick={logout}\r\n          className={`mt-auto flex items-center gap-3 bg-red-600 hover:bg-red-700 font-semibold py-2 rounded-lg transition-all \r\n            ${sidebarOpen ? \"justify-center\" : \"justify-center w-10 h-10 mx-auto\"}\r\n          `}\r\n        >\r\n          <MdLogout />\r\n          {sidebarOpen && <span>Logout</span>}\r\n        </button>\r\n      </aside>\r\n\r\n      {/* Main Section */}\r\n      <div\r\n        className={`flex flex-col flex-1 transition-all duration-500 ease-in-out ${\r\n          sidebarOpen ? \"ml-64\" : \"ml-20\"\r\n        }`}\r\n      >\r\n        {/* Topbar */}\r\n        <header\r\n          className={`sticky top-0 z-30 shadow-md p-4 flex justify-between items-center transition-colors duration-300\r\n            ${theme === \"dark\" ? \"bg-gray-800 text-gray-100\" : \"bg-white text-gray-900\"}\r\n          `}\r\n        >\r\n          <div className=\"flex items-center gap-3\">\r\n            <h2 className=\"text-lg font-semibold\">Welcome, {user?.name || \"Attendant\"}</h2>\r\n          </div>\r\n\r\n          {/* Right actions */}\r\n          <div className=\"flex items-center gap-4\">\r\n            <span className=\"text-sm text-gray-600 dark:text-gray-300\">Role: {user?.role}</span>\r\n            <button\r\n              onClick={toggleTheme}\r\n              className=\"text-2xl hover:text-yellow-400 transition\"\r\n              aria-label=\"Toggle theme\"\r\n            >\r\n              {theme === \"light\" ? <MdDarkMode /> : <MdLightMode />}\r\n            </button>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Main Content Area */}\r\n        <main className=\"flex-1 w-full overflow-y-auto p-6 bg-inherit\">\r\n          <div className=\"min-h-full w-full rounded-xl transition-all duration-300\">\r\n            {children}\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction NavLink({\r\n  href,\r\n  icon,\r\n  label,\r\n  active,\r\n  sidebarOpen,\r\n}: {\r\n  href: string\r\n  icon: React.ReactNode\r\n  label: string\r\n  active: boolean\r\n  sidebarOpen: boolean\r\n}) {\r\n  return (\r\n    <Link\r\n      href={href}\r\n      className={`flex items-center gap-3 p-2 rounded-lg transition-all duration-300 \r\n        ${active ? \"bg-teal-600 text-white\" : \"hover:bg-teal-700 text-gray-200\"}\r\n        ${sidebarOpen ? \"justify-start\" : \"justify-center\"}\r\n      `}\r\n    >\r\n      <span className=\"text-xl\">{icon}</span>\r\n      {sidebarOpen && <span className=\"font-medium\">{label}</span>}\r\n    </Link>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/petrol_station/frontend/src/app/admin/sales-records/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function SalesPage() {\r\n  const [sales, setSales] = useState<any[]>([]);\r\n  const [totals, setTotals] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    const fetchSales = async () => {\r\n      const resSales = await fetch(\"http://localhost:5000/api/sales/all\", {\r\n        credentials: \"include\",\r\n      });\r\n      const salesData = await resSales.json();\r\n      setSales(salesData);\r\n\r\n      const resTotals = await fetch(\"http://localhost:5000/api/sales/totals\", {\r\n        credentials: \"include\",\r\n      });\r\n      const totalsData = await resTotals.json();\r\n      setTotals(totalsData);\r\n    };\r\n    fetchSales();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>All Sales</h1>\r\n      <table border={1}>\r\n        <thead>\r\n          <tr>\r\n            <th>Attendant</th>\r\n            <th>Fuel</th>\r\n            <th>Quantity</th>\r\n            <th>Amount</th>\r\n            <th>Pump</th>\r\n            <th>Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n            {sales.map((s: {\r\n            id: number;\r\n            attendant?: { name: string };\r\n            fuelType?: { name: string };\r\n            quantitySold: number;\r\n            totalAmount: number;\r\n            pumpNumber: number;\r\n            createdAt: string;\r\n            }) => (\r\n            <tr key={s.id}>\r\n              <td>{s.attendant?.name}</td>\r\n              <td>{s.fuelType?.name}</td>\r\n              <td>{s.quantitySold}</td>\r\n              <td>{s.totalAmount}</td>\r\n              <td>{s.pumpNumber}</td>\r\n              <td>{new Date(s.createdAt).toLocaleString()}</td>\r\n            </tr>\r\n            ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      <h2>Totals per Attendant</h2>\r\n      <table border={1}>\r\n        <thead>\r\n          <tr>\r\n            <th>Attendant</th>\r\n            <th>Total Quantity</th>\r\n            <th>Total Amount</th>\r\n            <th>Total Sales</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {totals.map(t => (\r\n            <tr key={t.attendantId}>\r\n              <td>{t.attendant?.name}</td>\r\n              <td>{t.totalQuantity}</td>\r\n              <td>{t.totalAmount}</td>\r\n              <td>{t.totalSales}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,kNAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,kNAAQ,EAAQ,EAAE;IAE9C,IAAA,mNAAS;+BAAC;YACR,MAAM;kDAAa;oBACjB,MAAM,WAAW,MAAM,MAAM,uCAAuC;wBAClE,aAAa;oBACf;oBACA,MAAM,YAAY,MAAM,SAAS,IAAI;oBACrC,SAAS;oBAET,MAAM,YAAY,MAAM,MAAM,0CAA0C;wBACtE,aAAa;oBACf;oBACA,MAAM,aAAa,MAAM,UAAU,IAAI;oBACvC,UAAU;gBACZ;;YACA;QACF;8BAAG,EAAE;IAEL,qBACE,sOAAC;;0BACC,sOAAC;0BAAG;;;;;;0BACJ,sOAAC;gBAAM,QAAQ;;kCACb,sOAAC;kCACC,cAAA,sOAAC;;8CACC,sOAAC;8CAAG;;;;;;8CACJ,sOAAC;8CAAG;;;;;;8CACJ,sOAAC;8CAAG;;;;;;8CACJ,sOAAC;8CAAG;;;;;;8CACJ,sOAAC;8CAAG;;;;;;8CACJ,sOAAC;8CAAG;;;;;;;;;;;;;;;;;kCAGR,sOAAC;kCACI,MAAM,GAAG,CAAC,CAAC,kBASZ,sOAAC;;kDACC,sOAAC;kDAAI,EAAE,SAAS,EAAE;;;;;;kDAClB,sOAAC;kDAAI,EAAE,QAAQ,EAAE;;;;;;kDACjB,sOAAC;kDAAI,EAAE,YAAY;;;;;;kDACnB,sOAAC;kDAAI,EAAE,WAAW;;;;;;kDAClB,sOAAC;kDAAI,EAAE,UAAU;;;;;;kDACjB,sOAAC;kDAAI,IAAI,KAAK,EAAE,SAAS,EAAE,cAAc;;;;;;;+BANlC,EAAE,EAAE;;;;;;;;;;;;;;;;0BAYnB,sOAAC;0BAAG;;;;;;0BACJ,sOAAC;gBAAM,QAAQ;;kCACb,sOAAC;kCACC,cAAA,sOAAC;;8CACC,sOAAC;8CAAG;;;;;;8CACJ,sOAAC;8CAAG;;;;;;8CACJ,sOAAC;8CAAG;;;;;;8CACJ,sOAAC;8CAAG;;;;;;;;;;;;;;;;;kCAGR,sOAAC;kCACE,OAAO,GAAG,CAAC,CAAA,kBACV,sOAAC;;kDACC,sOAAC;kDAAI,EAAE,SAAS,EAAE;;;;;;kDAClB,sOAAC;kDAAI,EAAE,aAAa;;;;;;kDACpB,sOAAC;kDAAI,EAAE,WAAW;;;;;;kDAClB,sOAAC;kDAAI,EAAE,UAAU;;;;;;;+BAJV,EAAE,WAAW;;;;;;;;;;;;;;;;;;;;;;AAWlC;GAhFwB;KAAA","debugId":null}}]
}
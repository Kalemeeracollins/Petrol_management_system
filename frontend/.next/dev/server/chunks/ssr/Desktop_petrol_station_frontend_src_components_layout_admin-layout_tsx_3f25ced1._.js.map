{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/petrol_station/frontend/src/components/layout/admin-layout.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useAuth } from \"@/context/auth-context\"\r\nimport { useTheme } from \"@/context/theme-context\"\r\nimport { useRouter, usePathname } from \"next/navigation\"\r\nimport { useState, useEffect } from \"react\"\r\nimport {\r\n  MdDashboard,\r\n  MdPeople,\r\n  MdLocalGasStation,\r\n  MdInventory,\r\n  MdAssessment,\r\n  MdSettings,\r\n  MdWork,\r\n  MdMenu,\r\n  MdClose,\r\n  MdLogout,\r\n  MdDarkMode,\r\n  MdLightMode,\r\n} from \"react-icons/md\"\r\nimport Link from \"next/link\"\r\n\r\nexport default function AdminLayout({ children }: { children: React.ReactNode }) {\r\n  const { user, isAuthenticated, logout } = useAuth()\r\n  const { theme, toggleTheme } = useTheme()\r\n  const router = useRouter()\r\n  const pathname = usePathname()\r\n\r\n  const [sidebarOpen, setSidebarOpen] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated || user?.role !== \"ADMIN\") {\r\n      router.push(\"/login\")\r\n    }\r\n  }, [isAuthenticated, user, router])\r\n\r\n  const toggleSidebar = () => setSidebarOpen((prev) => !prev)\r\n\r\n  const navItems = [\r\n    { href: \"/admin/dashboard\", icon: <MdDashboard />, label: \"Dashboard\" },\r\n    { href: \"/admin/fuel-management\", icon: <MdLocalGasStation />, label: \"Fuel Management\" },\r\n    { href: \"/admin/restock\", icon: <MdInventory />, label: \"Restock\" },\r\n    { href: \"/admin/sales-records\", icon: <MdAssessment />, label: \"Sales Records\" },\r\n    { href: \"/admin/shifts\", icon: <MdWork />, label: \"Shifts\" },\r\n    { href: \"/admin/maintenance\", icon: <MdSettings />, label: \"Maintenance\" },\r\n    { href: \"/admin/settings\", icon: <MdSettings />, label: \"Settings\" },\r\n  ]\r\n\r\n  return (\r\n    <div\r\n      className={`flex h-screen overflow-hidden transition-colors duration-300 ${\r\n        theme === \"dark\" ? \"bg-gray-900 text-gray-100\" : \"bg-gray-100 text-gray-900\"\r\n      }`}\r\n    >\r\n      {/* Sidebar */}\r\n      <aside\r\n        className={`fixed top-0 left-0 h-full flex flex-col p-4 shadow-xl transition-all duration-500 ease-in-out transform z-40\r\n          ${sidebarOpen ? \"w-64\" : \"w-20\"}\r\n          ${theme === \"dark\" ? \"bg-[#1a1a2e]\" : \"bg-[#2d3748] text-white\"}\r\n        `}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h1\r\n            className={`text-2xl font-bold transition-all duration-300 ${\r\n              sidebarOpen ? \"opacity-100\" : \"opacity-0 hidden\"\r\n            }`}\r\n          >\r\n            â›½ Admin\r\n          </h1>\r\n          <button\r\n            onClick={toggleSidebar}\r\n            className=\"text-2xl hover:text-yellow-400\"\r\n            aria-label=\"Toggle sidebar\"\r\n          >\r\n            {sidebarOpen ? <MdClose /> : <MdMenu />}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Nav Links */}\r\n        <nav className=\"flex flex-col space-y-2\">\r\n          {navItems.map((item) => (\r\n            <NavLink\r\n              key={item.href}\r\n              href={item.href}\r\n              icon={item.icon}\r\n              label={item.label}\r\n              active={pathname === item.href}\r\n              sidebarOpen={sidebarOpen}\r\n            />\r\n          ))}\r\n        </nav>\r\n\r\n        {/* Logout */}\r\n        <button\r\n          onClick={logout}\r\n          className={`mt-auto flex items-center gap-3 bg-red-600 hover:bg-red-700 font-semibold py-2 rounded-lg transition-all\r\n            ${sidebarOpen ? \"justify-center\" : \"justify-center w-10 h-10 mx-auto\"}\r\n          `}\r\n        >\r\n          <MdLogout />\r\n          {sidebarOpen && <span>Logout</span>}\r\n        </button>\r\n      </aside>\r\n\r\n      {/* Main Section */}\r\n      <div\r\n        className={`flex flex-col flex-1 transition-all duration-500 ease-in-out ${\r\n          sidebarOpen ? \"ml-64\" : \"ml-20\"\r\n        }`}\r\n      >\r\n        {/* Topbar */}\r\n        <header\r\n          className={`sticky top-0 z-30 shadow-md p-4 flex justify-between items-center transition-colors duration-300\r\n            ${theme === \"dark\" ? \"bg-gray-800 text-gray-100\" : \"bg-white text-gray-900\"}\r\n          `}\r\n        >\r\n          <div className=\"flex items-center gap-3\">\r\n            <h2 className=\"text-lg font-semibold\">Welcome, {user?.name || \"Admin\"}</h2>\r\n          </div>\r\n\r\n          {/* Right actions */}\r\n          <div className=\"flex items-center gap-4\">\r\n            <span className=\"text-sm text-gray-600 dark:text-gray-300\">Role: {user?.role}</span>\r\n            <button\r\n              onClick={toggleTheme}\r\n              className=\"text-2xl hover:text-yellow-400 transition\"\r\n              aria-label=\"Toggle theme\"\r\n            >\r\n              {theme === \"light\" ? <MdDarkMode /> : <MdLightMode />}\r\n            </button>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Main Content Area */}\r\n        <main className=\"flex-1 w-full overflow-y-auto p-6 bg-inherit\">\r\n          <div className=\"min-h-full w-full rounded-xl transition-all duration-300\">\r\n            {children}\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction NavLink({\r\n  href,\r\n  icon,\r\n  label,\r\n  active,\r\n  sidebarOpen,\r\n}: {\r\n  href: string\r\n  icon: React.ReactNode\r\n  label: string\r\n  active: boolean\r\n  sidebarOpen: boolean\r\n}) {\r\n  return (\r\n    <Link\r\n      href={href}\r\n      className={`flex items-center gap-3 p-2 rounded-lg transition-all duration-300\r\n        ${active ? \"bg-teal-600 text-white\" : \"hover:bg-teal-700 text-gray-200\"}\r\n        ${sidebarOpen ? \"justify-start\" : \"justify-center\"}\r\n      `}\r\n    >\r\n      <span className=\"text-xl\">{icon}</span>\r\n      {sidebarOpen && <span className=\"font-medium\">{label}</span>}\r\n    </Link>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}
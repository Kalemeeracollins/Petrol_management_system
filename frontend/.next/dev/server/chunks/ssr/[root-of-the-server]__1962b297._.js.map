{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/petrol_station/frontend/src/app/attendant/sales/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport axios from \"axios\"\r\nimport { useAuth } from \"@/context/auth-context\"\r\n\r\nexport default function FuelSalesPage() {\r\n  const { user, token } = useAuth()\r\n  const [sales, setSales] = useState([])\r\n  const [fuelTypeId, setFuelTypeId] = useState(\"\")\r\n  const [quantitySold, setQuantitySold] = useState(\"\")\r\n  const [totalAmount, setTotalAmount] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    if (token) fetchSales()\r\n  }, [token])\r\n\r\n  const fetchSales = async () => {\r\n    try {\r\n      const res = await axios.get(\"/api/fuel-sales\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      })\r\n      setSales(res.data)\r\n    } catch (err) {\r\n      console.error(err)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async (e: any) => {\r\n    e.preventDefault()\r\n    try {\r\n      await axios.post(\r\n        \"/api/fuel-sales\",\r\n        { fuelTypeId, quantitySold, totalAmount },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      )\r\n      setMessage(\"Sale recorded successfully!\")\r\n      setFuelTypeId(\"\")\r\n      setQuantitySold(\"\")\r\n      setTotalAmount(\"\")\r\n      fetchSales()\r\n    } catch (err) {\r\n      setMessage(\"Failed to add sale\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-5xl mx-auto\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Fuel Sales</h1>\r\n\r\n      <form onSubmit={handleSubmit} className=\"bg-white shadow-md p-4 rounded-lg mb-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Fuel Type ID\"\r\n            value={fuelTypeId}\r\n            onChange={(e) => setFuelTypeId(e.target.value)}\r\n            className=\"p-2 border rounded\"\r\n            aria-label=\"Fuel Type\"\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Quantity Sold\"\r\n            value={quantitySold}\r\n            onChange={(e) => setQuantitySold(e.target.value)}\r\n            className=\"p-2 border rounded\"\r\n            aria-label=\"Quantity Sold\"\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Total Amount\"\r\n            value={totalAmount}\r\n            onChange={(e) => setTotalAmount(e.target.value)}\r\n            className=\"p-2 border rounded\"\r\n            aria-label=\"Total Amount\"\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"mt-4 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg\"\r\n        >\r\n          Add Sale\r\n        </button>\r\n        {message && <p className=\"mt-2 text-sm text-gray-700\">{message}</p>}\r\n      </form>\r\n\r\n      <h2 className=\"text-xl font-semibold mb-3\">Your Sales History</h2>\r\n      <table className=\"w-full bg-white shadow-md rounded-lg\">\r\n        <thead className=\"bg-gray-200 text-left\">\r\n          <tr>\r\n            <th className=\"p-2\">Fuel Type</th>\r\n            <th className=\"p-2\">Quantity</th>\r\n            <th className=\"p-2\">Total Amount</th>\r\n            <th className=\"p-2\">Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {sales.map((sale: any) => (\r\n            <tr key={sale.id} className=\"border-b hover:bg-gray-50\">\r\n              <td className=\"p-2\">{sale.fuelTypeId}</td>\r\n              <td className=\"p-2\">{sale.quantitySold}</td>\r\n              <td className=\"p-2\">{sale.totalAmount}</td>\r\n              <td className=\"p-2\">{new Date(sale.saleDate).toLocaleDateString()}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,IAAA,yJAAO;IAC/B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAAC,EAAE;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,6NAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6NAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6NAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,IAAA,8NAAS,EAAC;QACR,IAAI,OAAO;IACb,GAAG;QAAC;KAAM;IAEV,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,MAAM,MAAM,4JAAK,CAAC,GAAG,CAAC,mBAAmB;gBAC7C,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YACA,SAAS,IAAI,IAAI;QACnB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI;YACF,MAAM,4JAAK,CAAC,IAAI,CACd,mBACA;gBAAE;gBAAY;gBAAc;YAAY,GACxC;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAAE;YAElD,WAAW;YACX,cAAc;YACd,gBAAgB;YAChB,eAAe;YACf;QACF,EAAE,OAAO,KAAK;YACZ,WAAW;QACb;IACF;IAEA,qBACE,0PAAC;QAAI,WAAU;;0BACb,0PAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,0PAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,0PAAC;wBAAI,WAAU;;0CACb,0PAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC7C,WAAU;gCACV,cAAW;;;;;;0CAEb,0PAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gCAC/C,WAAU;gCACV,cAAW;;;;;;0CAEb,0PAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,WAAU;gCACV,cAAW;;;;;;;;;;;;kCAGf,0PAAC;wBACC,MAAK;wBACL,WAAU;kCACX;;;;;;oBAGA,yBAAW,0PAAC;wBAAE,WAAU;kCAA8B;;;;;;;;;;;;0BAGzD,0PAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,0PAAC;gBAAM,WAAU;;kCACf,0PAAC;wBAAM,WAAU;kCACf,cAAA,0PAAC;;8CACC,0PAAC;oCAAG,WAAU;8CAAM;;;;;;8CACpB,0PAAC;oCAAG,WAAU;8CAAM;;;;;;8CACpB,0PAAC;oCAAG,WAAU;8CAAM;;;;;;8CACpB,0PAAC;oCAAG,WAAU;8CAAM;;;;;;;;;;;;;;;;;kCAGxB,0PAAC;kCACE,MAAM,GAAG,CAAC,CAAC,qBACV,0PAAC;gCAAiB,WAAU;;kDAC1B,0PAAC;wCAAG,WAAU;kDAAO,KAAK,UAAU;;;;;;kDACpC,0PAAC;wCAAG,WAAU;kDAAO,KAAK,YAAY;;;;;;kDACtC,0PAAC;wCAAG,WAAU;kDAAO,KAAK,WAAW;;;;;;kDACrC,0PAAC;wCAAG,WAAU;kDAAO,IAAI,KAAK,KAAK,QAAQ,EAAE,kBAAkB;;;;;;;+BAJxD,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;AAW5B","debugId":null}}]
}